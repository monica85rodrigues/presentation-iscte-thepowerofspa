@using System.Web.Optimization
@{
    ViewBag.Title = "Magazines";
    Layout = "../Shared/_Layout.cshtml";
}

@Scripts.Render("~/bundles/scripts/app/magazines")

<h2>Magazines</h2>

<a href="#" class="btn btn-sm btn-primary" data-bind="click: addNewMagazine">add new magazine</a>
<br/>

<!-- create magazine -->
<form id="magazineForm" class="form" data-bind="with: magazine, slide: addMode">
    <div class="form-group">
        <label for="Title">Title</label>
        <input id="Title" type="text" data-bind="value: Title" class="form-control" />
    </div>
    <div class="form-group">
        <label for="Year">Year</label>
        <input id="Year" type="text" data-bind="value: Year" class="form-control" />
    </div>
    <div class="form-group">
        <label for="Link">Link</label>
        <input id="Link" type="text" data-bind="value: Link" class="form-control" />
    </div>
    <div class="form-inline">
        <input type="button" data-bind="click: $parent.addMagazine" value="Save" class="btn btn-sm btn-success" />
        <input type="button" data-bind="click: $parent.cancel" value="Cancel" class="btn btn-sm btn-link" />
    </div>
</form>

<br/>
<table class="table table-hover table-striped table-condensed">
    <thead>
        <tr>
            <th>Title</th>
            <th>Year</th>
            <th>Link</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: magazines">
        <tr>
            <td data-bind="text: Title"></td>
            <td data-bind="text: Year"></td>
            <td><a data-bind="attr: { href: Link }" target="_blank">Click here</a> for more details</td>
        </tr>
    </tbody>
</table>



@section scripts{
    <script type="text/javascript">
        $(function() {
            var viewmodel = new window.app.magazinesVm();
            viewmodel.init();
        });
    </script>
}
