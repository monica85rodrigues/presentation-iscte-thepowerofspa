@using System.Web.Optimization
@{
    ViewBag.Title = "Authors";
    Layout = "../Shared/_Layout.cshtml";
}

@Scripts.Render("~/bundles/scripts/app/authors")

<h2>Authors</h2>

<a href="#" class="btn btn-sm btn-primary" data-bind="click: addNewAuthor">add new author</a>
<br />

<!-- create author -->
<form id="authorForm" class="form" data-bind="with: author, slide: addMode">
    <div class="form-group">
        <label for="Name">Name</label>
        <input id="Name" type="text" data-bind="value: Name" class="form-control"/>
    </div>
    <div class="form-inline">
        <input type="button" data-bind="click: $parent.addAuthor" value="Save" class="btn btn-sm btn-success" />
        <input type="button" data-bind="click: $parent.cancel" value="Cancel" class="btn btn-sm btn-link" />
    </div>
</form>

<br />
<table class="table table-hover table-striped table-condensed">
    <thead>
        <tr>
            <th>Name</th>
        </tr>
    </thead>
    <tbody data-bind="foreach: authors">
        <tr>
            <td data-bind="text: Name"></td>
        </tr>
    </tbody>
</table>

@section scripts{
    <script type="text/javascript">
        $(function () {
            var viewmodel = new window.app.authorsVm();
            viewmodel.init();
        });
    </script>
}